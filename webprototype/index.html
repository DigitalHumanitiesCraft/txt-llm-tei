<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="DH Craft" />

    <title>TXT to TEI XML</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />

    <!-- Favicons -->
    <link
      rel="apple-touch-icon"
      href="https://getbootstrap.com/docs/5.3/assets/img/favicons/apple-touch-icon.png"
      sizes="180x180"
    />
    <link
      rel="icon"
      href="https://getbootstrap.com/docs/5.3/assets/img/favicons/favicon-32x32.png"
      sizes="32x32"
      type="image/png"
    />
    <link
      rel="icon"
      href="https://getbootstrap.com/docs/5.3/assets/img/favicons/favicon-16x16.png"
      sizes="16x16"
      type="image/png"
    />
    <link
      rel="manifest"
      href="https://getbootstrap.com/docs/5.3/assets/img/favicons/manifest.json"
    />
    <link
      rel="mask-icon"
      href="https://getbootstrap.com/docs/5.3/assets/img/favicons/safari-pinned-tab.svg"
      color="#712cf9"
    />
    <link
      rel="icon"
      href="https://getbootstrap.com/docs/5.3/assets/img/favicons/favicon.ico"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css"
      integrity="sha512-ELV+xyi8IhEApPS/pSj66+Jiw+sOT1Mqkzlh8ExXihe4zfqbWkxPRi8wptXIO9g73FSlhmquFlUOuMSoXz5IRw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"
      integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css"
      integrity="sha512-uf06llspW44/LZpHzHT6qBOIVODjWtv4MxCricRxkzvopAlSWnTf6hpZTFxuuZcuNE9CBQhqE0Seu1CoRk84nQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"
      integrity="sha512-8RnEqURPUc5aqFEN04aQEiPlSAdE0jlFS/9iGgUyNtwFnSKCXhmB6ZTNl7LnDtDWKabJIASzXrzD0K+LYexU9g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/xml/xml.min.js"
      integrity="sha512-LarNmzVokUmcA7aUDtqZ6oTS+YXmUKzpGdm8DxC46A6AHu+PQiYCUlwEGWidjVYMo/QXZMFMIadZtrkfApYp/g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <meta name="theme-color" content="#712cf9" />

    <style>
      .bot-message {
        background-color: #e9ecef;
        border-radius: 5px;
      }

      .user-message {
        background-color: #007bff;
        color: white;
        border-radius: 5px;
      }

      .input-group .dropdown-toggle {
        border-radius: 0;
      }
    </style>
  </head>
  <body class="bg-body-tertiary">
    <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
      <symbol id="check2" viewBox="0 0 16 16">
        <path
          d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
        />
      </symbol>
      <symbol id="circle-half" viewBox="0 0 16 16">
        <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
      </symbol>
      <symbol id="moon-stars-fill" viewBox="0 0 16 16">
        <path
          d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"
        />
        <path
          d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"
        />
      </symbol>
      <symbol id="sun-fill" viewBox="0 0 16 16">
        <path
          d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"
        />
      </symbol>
    </svg>

    <!-- Begin page content -->
    <main class="flex-shrink-0">
      <div class="container mt-5">
        <div class="row">
          <!-- Input Text -->
          <div class="col-md-6">
            <label for="inputText">Input Text</label>
            <textarea
              class="form-control"
              id="inputText"
              rows="15"
              style="height: 50vh"
            >
Port-Louis, 20 Janvier 1885.

Mon cher Monsieur Schuchardt,
Ma Doudou vous envoie une petite brochure jaune (note 1) à laquelle vous ferez bon accueil, j’en suis sûr.
Nous sommes anxieux l’un et l’autre d’avoir de vos nouvelles, et voudrions bien savoir que ce sont vos travaux, et non la maladie, qui nous privent de toute lettre de vous.
Portez-vous bien, c’est le plus sincère de nos vœux, et croyez-moi, mon cher Monsieur Schuchardt, 

Votre bien cordialement dévoué

C Baissac

_____________________________________________1  Welche Broschüre hier gemeint ist, kann nicht mehr ausfindig gemacht werden.
        </textarea
            >
            <!-- Button Group for Input Text -->
            <div class="btn-group mt-2">
              <button class="btn btn-primary" type="button">
                Upload file(s)
              </button>
            </div>
          </div>
          <!-- TEI XML Preview -->
          <div class="col-md-6">
            <label for="teiXMLPreview">TEI XML Preview</label>
            <div
              id="teiXMLPreview"
              class="resizable"
              style="height: 50vh"
            ></div>
            <!-- Button Group for TEI XML Preview -->
            <div class="btn-group mt-2">
              <button class="btn btn-success" type="button">
                Download Result
              </button>
            </div>
          </div>
        </div>
        <!-- Chatbot Dialogue Area -->
        <div class="my-4">
          <div class="card mt-2">
            <div class="card-body" id="chatArea">
              <div class="bot-message">
                <p>
                  I am a fine-tuned model for [project-name]. Let me know what I
                  can do for you.
                </p>
              </div>
            </div>
          </div>
          <div class="mt-2">
            <div class="input-group">
              <label
                class="btn btn-secondary"
                for="fileInput"
                title="Attach files"
                >+</label
              >
              <input
                type="file"
                class="form-control-file"
                id="fileInput"
                style="display: none"
              />
              <input
                type="text"
                class="form-control"
                placeholder="Type a prompt or choose from a template"
                id="userInput"
              />
              <!-- Dropdown for Prompt Templates -->
              <div class="dropdown">
                <button
                  class="btn btn-outline-secondary dropdown-toggle"
                  type="button"
                  id="dropdownMenuButton"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Templates
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <li>
                    <a class="dropdown-item" href="#" data-value="Template 1"
                      >Template 1</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="#" data-value="Template 2"
                      >Template 2</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="#" data-value="Template 3"
                      >Template 3</a
                    >
                  </li>
                </ul>
              </div>
              <button class="btn btn-primary" type="button" id="sendButton">
                Send
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <script>
      // XML content for preview
      var xmlPreviewContent = `<div subtype="original" type="letter" xml:id="L.1" xml:lang="fr">
        <pb facs="#IMG.1" n="1"/>
        <dateline>Port-Louis, 20 Janvier 1885.</dateline>
        <lb/>
        <opener>Mon cher Monsieur Schuchardt,</opener>
        <p>Ma Doudou vous envoie une petite brochure jaune<note n="1" place="foot" type="editorial"> Welche Broschüre hier gemeint ist, kann nicht mehr ausfindig gemacht werden.</note> à laquelle vous ferez bon accueil, j’en suis sûr.</p>
        <p>Nous sommes anxieux l’un et l’autre d’avoir de vos nouvelles, et voudrions bien savoir que ce sont vos travaux, et non la maladie, qui nous privent de toute lettre de vous.</p>
        <closer>
          <salute>Portez-vous bien, c’est le plus sincère de nos vœux, et croyez-moi, mon cher Monsieur Schuchardt, </salute>
          <lb/>
          <salute>Votre bien cordialement dévoué</salute>
          <lb/>
          <signed>
            <persName ref="https://gams.uni-graz.at/o:hsa.persons#P.1069">C Baissac</persName>
          </signed>
        </closer>
      </div>`;

      // Initialize CodeMirror for XML Preview
      var teiXMLPreviewEditor = CodeMirror(
        document.getElementById("teiXMLPreview"),
        {
          mode: "application/xml",
          lineNumbers: true,
          lineWrapping: true,
        }
      );

      // Set the XML content as preview
      teiXMLPreviewEditor.setValue(xmlPreviewContent);

      // Make the text areas resizable
      $(".resizable").resizable({
        handles: "s", // Resizable from the bottom edge
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const userInput = document.getElementById("userInput");
        const sendButton = document.getElementById("sendButton");
        const chatArea = document.getElementById("chatArea");
        const fileInput = document.getElementById("fileInput");

        function addMessage(content, className) {
          const messageDiv = document.createElement("div");
          messageDiv.className = className;
          messageDiv.innerHTML = `<p>${content}</p>`;
          chatArea.appendChild(messageDiv);
          chatArea.scrollTop = chatArea.scrollHeight; // Scroll to the bottom
        }

        function sendMessage() {
          const userMessage = userInput.value.trim(); // Get the user input value
          if (userMessage) {
            addMessage(userMessage, "user-message"); // Add user message to chat area
            userInput.value = ""; // Clear the input field
            setTimeout(() => {
              addMessage("This is a sample bot response.", "bot-message");
            }, 1000);
          }
        }

        // Event listener for Send button
        sendButton.addEventListener("click", sendMessage);

        // Event listener for Enter key in the input field
        userInput.addEventListener("keypress", function (event) {
          if (event.key === "Enter") {
            event.preventDefault(); // Prevent the default action (form submission)
            sendMessage();
          }
        });

        // Event listener for file input
        fileInput.addEventListener("change", function () {
          if (this.files && this.files[0]) {
            const fileName = this.files[0].name;
            addMessage(`File attached: ${fileName}`, "user-message");
            // Here, you can handle the file, e.g., upload it to a server
            // For this example, we'll just display the file name in the chat area
          }
        });
        // Function to handle selection of a prompt template from the dropdown
        function handleTemplateSelection(event) {
          event.preventDefault(); // Prevent the default action (navigation)
          const template = event.target.getAttribute("data-value"); // Get the selected template
          if (template) {
            userInput.value = template; // Insert the selected template into the input field
          }
        }

        // Get references to the dropdown items and add event listeners to them
        const dropdownItems = document.querySelectorAll(
          ".dropdown-menu .dropdown-item"
        );
        dropdownItems.forEach((item) => {
          item.addEventListener("click", handleTemplateSelection);
        });
      });
    </script>
  </body>
</html>
